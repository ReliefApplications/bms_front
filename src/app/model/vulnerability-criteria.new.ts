import { TextModelField } from './CustomModel/text-model-field';
import { NumberModelField } from './CustomModel/number-model-field';

export class VulnerabilityCriteria {
    public fields = {
        id: new NumberModelField(
            {
                // Not displayed anywhere
            }
        ),
        name: new TextModelField(
            {

            }
        )
    };

    public static apiToModel(vulneratbilityFromApi): VulnerabilityCriteria {
        const newVulnerability = new VulnerabilityCriteria();
        newVulnerability.fields.id.value = vulneratbilityFromApi.id;
        newVulnerability.fields.name.value = vulneratbilityFromApi.field_string;
        return newVulnerability;
    }

    public modelToApi(): Object {
        return {
            id: this.fields.id.value,
            field_string: this.fields.name.value
        };
    }

    public getImage(): string {
        const vulnerabilityImages: object = {
            'pregnant': 'pregnant',
            'disabled': 'disabled',
            'lactating': 'lactating',
            'solo parent': 'solo-parent',
            'nutritional issues': 'nutritional-issues',
        };
        if (typeof this.fields.name.value === 'string') {
            return `/assets/images/households/${vulnerabilityImages[this.fields.name.value]}.png`;
        } else {
            return '';
        }
    }
}

<div class="page-container">
  <div class="container-title">
    <h2>{{language.settings | uppercaseFirst}}</h2>
  </div>
  <div class="container-boxes">
    <app-box-setting [isSelected]="selectedTitle === 'users'" (click)="selectTitle('users')" [info]='{icon: "settings/users", color: "green", title:language.settings_users, ref:"users"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'country specific options'" (click)="selectTitle('country specific options')" [info]='{icon: "settings/country_specific", color: "red", title:language.settings_country_specific_options, ref:"country specific options"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'donors'" (click)="selectTitle('donors')" [info]='{icon: "settings/donors", color: "green", title:language.settings_donors, ref:"donors"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'projects'" (click)="selectTitle('projects')" [info]='{icon: "settings/projects", color: "red", title:language.projects, ref:"projects"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'financialProvider'" (click)="selectTitle('financialProvider')" [info]='{icon: "settings/api", color: "green", title:language.settings_financial_provider, ref:"financialProvider"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'product'" (click)="selectTitle('product')" [info]='{icon: "settings/product", color: "green", title:language.settings_product, ref:"product"}'></app-box-setting>
    <app-box-setting [isSelected]="selectedTitle === 'vendors'" (click)="selectTitle('vendors')" [info]='{icon: "settings/vendor", color: "green", title:language.settings_vendors, ref:"vendors"}'></app-box-setting>
  </div>
  <div class="container-table">
    <div class="container-content box-primary">
      <div class="content-button">
        <div class="action-buttons">
          <div class="button-with-extension" [ngClass]="{'arabic':languageService.languageToString(language)==='ar'}">
            <button mat-raised-button [disabled]="!(data.data && data.data.length>0)" class="button-background-primary" (click)="export()" *ngIf="!loadingExport">
              <mat-icon>get_app</mat-icon>
              <span>{{language.export | uppercaseFirst}}</span>
            </button>
            <mat-spinner [diameter]='25' *ngIf="loadingExport"></mat-spinner>
            <div class="extension">
              <button mat-raised-button class="dropdown button-background-primary" *ngIf="!loadingExport" [disabled]="!(data.data && data.data.length>0)" [matMenuTriggerFor]="exportType">
                <mat-icon>keyboard_arrow_down</mat-icon>
              </button>
              <mat-menu #exportType>
                <button mat-menu-item (click)="setType('xls')"> .xls <mat-icon *ngIf="extensionType=='xls'">done</mat-icon>
                </button>
                <button mat-menu-item (click)="setType('csv')"> .csv <mat-icon *ngIf="extensionType=='csv'">done</mat-icon>
                </button>
                <button mat-menu-item (click)="setType('ods')"> .ods <mat-icon *ngIf="extensionType=='ods'">done</mat-icon>
                </button>
              </mat-menu>
            </div>
          </div>
        </div>
        <button mat-raised-button *ngIf="currentDisplayType.type !== 'mobile' && checkRights() && deletable" (click)="openDialog({action: 'add'})" class="add-button-create">
          <mat-icon>add</mat-icon>
          {{language.add | uppercaseFirst}}
        </button>
        <button mat-fab *ngIf="currentDisplayType.type === 'mobile' && checkRights() && deletable" (click)="openDialog({action: 'add'})" class="add-button" [ngClass]="{'add-button-arabic':languageService.languageToString(language)==='ar'}">
          <mat-icon>add</mat-icon>
        </button>
      </div>
      <div class="content-table">
        <app-table [isLoading]="loadingData" [searchable]="true" [paginable]="true" *ngIf="currentDisplayType.type !== 'mobile'" [entity]="referedClassToken" [service]="referedClassService" [data]="data" [editable]="editable" [deletable]="deletable" (openModal)="openDialog($event)" [printable]="printable" [loggable]="loggable" (printOne)="print($event)"></app-table>
        <app-table-mobile [isLoading]="loadingData" *ngIf="currentDisplayType.type === 'mobile'" [entity]="referedClassToken" [service]="referedClassService" [data]="data" [editable]="editable" [deletable]="deletable" [printable]="printable" [loggable]="loggable" (openModal)="openDialog($event)" (printOne)="print($event)"></app-table-mobile>
      </div>
    </div>
  </div>
</div>

<div class="page-container">
  <div class="container-title">
    <h2>{{voucher.voucher | titlecase}}</h2>
  </div>

  <app-placeholder-panel class="container-table min-height" *ngIf="loadingBooklet"></app-placeholder-panel>
  <div class="container-table" *ngIf="!loadingBooklet">
    <div class="container-content box-primary">
      <div class="content-button">
        <div class="action-buttons">
          <button mat-raised-button *ngIf="checkedElements.length > 0" class="button-background-primary" (click)="printMany()" [matBadge]="checkedElements.length">
              {{voucher.voucher_print_selection | titlecase}}
          </button>
          <button mat-raised-button *ngIf="bookletData && !loadingAssign" class="button-background-primary" (click)="openAssignDialog()">
              <span>{{voucher.voucher_assign | titlecase }}</span>
          </button>
          <mat-spinner [diameter]='25' *ngIf="loadingAssign"></mat-spinner>
          <div class="button-with-extension">
            <button mat-raised-button class="button-background-primary" (click)="export()" *ngIf="!loadingExport">
              <mat-icon>get_app</mat-icon>
              <span>{{voucher.export | titlecase}}</span>
            </button>
            <mat-spinner [diameter]='25' *ngIf="loadingExport"></mat-spinner>
            <div class="extension" *ngIf="!loadingExport">
              <div mat-button class="dropdown" [matMenuTriggerFor]="exportType" [ngClass]="{'arabic':language==='ar'}">
                <mat-icon>keyboard_arrow_down</mat-icon>
              </div>
              <mat-menu #exportType>
                <button mat-menu-item (click)="setType('xls')"> .xls <mat-icon *ngIf="extensionType=='xls'">done</mat-icon>
                </button>
                <button mat-menu-item (click)="setType('csv')"> .csv <mat-icon *ngIf="extensionType=='csv'">done</mat-icon>
                </button>
                <button mat-menu-item (click)="setType('ods')"> .ods <mat-icon *ngIf="extensionType=='ods'">done</mat-icon>
                </button>
              </mat-menu>
            </div>
          </div>
        </div>

        <button mat-raised-button *ngIf="widthScreen > maxWidthMobile" (click)="openDialog('create')" class="add-button-create">
          <mat-icon>add</mat-icon>
          {{voucher.add | titlecase}}
        </button>
        <button mat-fab *ngIf="widthScreen <= maxWidthMobile" (click)="openDialog('create')" class="add-button"
          [ngClass]="{'add-button-arabic': language == 'ar'}">
          <mat-icon>add</mat-icon>
        </button>
      </div>

      <div class="content-table" *ngIf="!load && bookletData">
        <app-table-vouchers *ngIf="widthScreen > maxWidthMobile" [entity]="bookletClass" [service]="bookletService"
          [data]="bookletData" [selection]="selection" (selectChecked)="getChecked($event)"></app-table-vouchers>
        <app-table-mobile-vouchers *ngIf="widthScreen < maxWidthMobile" [entity]="bookletClass" [service]="bookletService"
          [data]="bookletData"></app-table-mobile-vouchers>
      </div>

      <div>
        <mat-spinner [diameter]="35" *ngIf="load"></mat-spinner>
      </div>

      <div class='no-data-container' *ngIf="!load && !bookletData">
        <div class="loadingContent">
          <h4 class="no-data">
            <mat-icon>cloud_off</mat-icon>
            <span> {{voucher.no_data}} </span>
          </h4>
        </div>
      </div>
    </div>
  </div>
</div>
